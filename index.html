<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forecasting for mlr3 â€¢ mlr3forecasting</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<link href="extra.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Forecasting for mlr3">
<meta property="og:description" content="Implements tasks, learners, resamplings and measures for forcasting tasks.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org"></a>
        <a class="navbar-brand" href="index.html">mlr3forecasting <small>v0.1.0.9000</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/vignettes.html">Vignette - mlr3forecasting</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
        <li>
  <a href="https://github.com/mlr-org/mlr3forecasting/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="mlr3forecasting" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#mlr3forecasting" class="anchor"></a>mlr3forecasting</h1></div>
<p>Forecasting for mlr3</p>
<!-- badges: start -->
<p><a href="https://github.com/mlr-org/mlr3forecasting/actions"><img src="https://github.com/mlr-org/mlr3forecasting/workflows/tic/badge.svg?branch=master" alt="tic"></a> <a href="https://cran.r-project.org/package=mlr3forecasting"><img src="https://www.r-pkg.org/badges/version-ago/mlr3forecasting" alt="CRAN Status Badge"></a> <a href="https://codecov.io/gh/mlr-org/mlr3forecasting"><img src="https://codecov.io/gh/mlr-org/mlr3forecasting/branch/master/graph/badge.svg" alt="codecov"></a> <a href="https://stackoverflow.com/questions/tagged/mlr3"><img src="https://img.shields.io/badge/stackoverflow-mlr3-orange.svg" alt="StackOverflow"></a> <!-- badges: end --></p>
<p>Time series analysis accounts for the fact that data points taken over time may have an internal structure (such as autocorrelation, trend or seasonal variation) that should be accounted for. This package extends the <a href="https://github.com/mlr-org/mlr3">mlr3</a> package framework by timeseries prediction and resampling methods.</p>
<p><img src="reference/figures/multi_timeseries.png" width="1318"></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"mlr-org/mlr3forecasting"</span>)</pre></div>
</div>
<div id="forecasting" class="section level2">
<h2 class="hasAnchor">
<a href="#forecasting" class="anchor"></a>Forecasting</h2>
<p>Currently the following methods are implemented:</p>
<div id="tasks" class="section level3">
<h3 class="hasAnchor">
<a href="#tasks" class="anchor"></a>Tasks</h3>
<table class="table">
<thead><tr class="header">
<th>Id</th>
<th>Code</th>
<th>Type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_tasks_airpassengers.html">airpassengers</a></td>
<td><code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsk("airpassengers")</a></code></td>
<td>Univariate Timeseries</td>
</tr>
<tr class="even">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_tasks_petrol.html">petrol</a></td>
<td><code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsk("petrol")</a></code></td>
<td>Multivariate Timeseries</td>
</tr>
</tbody>
</table>
</div>
<div id="learners" class="section level3">
<h3 class="hasAnchor">
<a href="#learners" class="anchor"></a>Learners</h3>
<table class="table">
<thead><tr class="header">
<th>Id</th>
<th>Learner</th>
<th>Package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_learners_regr.AutoArima.html">auto.arima</a></td>
<td>Auto Arima</td>
<td><a href="https://cran.r-project.org/package=forecast">forecast</a></td>
</tr>
<tr class="even">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_learners_regr.Average.html">forecast.average</a></td>
<td>Average</td>
<td>base</td>
</tr>
<tr class="odd">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_learners_regr.VAR.html">VAR</a></td>
<td>Vector Autoregression</td>
<td><a href="https://cran.r-project.org/package=vars">vars</a></td>
</tr>
</tbody>
</table>
</div>
<div id="measures" class="section level3">
<h3 class="hasAnchor">
<a href="#measures" class="anchor"></a>Measures</h3>
<table class="table">
<thead><tr class="header">
<th>Id</th>
<th>Measure</th>
<th>Package</th>
</tr></thead>
<tbody><tr class="odd">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_measures_forecast.mae.html">forecast.mae</a></td>
<td>Mean Absolute Error</td>
<td>base</td>
</tr></tbody>
</table>
</div>
<div id="resampling-methods" class="section level3">
<h3 class="hasAnchor">
<a href="#resampling-methods" class="anchor"></a>Resampling Methods</h3>
<table class="table">
<thead><tr class="header">
<th>Id</th>
<th>Resampling</th>
<th>Package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_resamplings_forecastHoldout.html">forecastHoldout</a></td>
<td>Holdout</td>
<td>base</td>
</tr>
<tr class="even">
<td><a href="https://mlr3forecasting.mlr-org.com/reference/mlr_resamplings_RollingWindowCV.html">cv</a></td>
<td>Rolling Window CrossValidation</td>
<td>base</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="code-example" class="section level2">
<h2 class="hasAnchor">
<a href="#code-example" class="anchor"></a>Code Example</h2>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">mlr3</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">mlr3forecasting</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tsbox</span>)

<span class="co"># Univariate Timeseries</span>

<span class="no">task</span> <span class="kw">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsk</a></span>(<span class="st">"airpassengers"</span>)
<span class="no">learner</span> <span class="kw">=</span> <span class="no">LearnerRegrForecastAverage</span>$<span class="fu">new</span>()
<span class="no">learner</span>$<span class="fu">train</span>(<span class="no">task</span>,<span class="kw">row_ids</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">20</span>)
<span class="no">learner</span>$<span class="no">model</span>
<span class="no">p</span> <span class="kw">=</span> <span class="no">learner</span>$<span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(<span class="no">task</span>,<span class="kw">row_ids</span> <span class="kw">=</span> <span class="fl">21</span>:<span class="fl">55</span>)
<span class="no">p</span>$<span class="fu">score</span>(<span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">msr</a></span>(<span class="st">"forecast.mae"</span>))
<span class="fu"><a href="reference/autoplot.html">autoplot</a></span>(<span class="no">task</span>)</pre></div>
</div>
<div id="resampling" class="section level2">
<h2 class="hasAnchor">
<a href="#resampling" class="anchor"></a>Resampling</h2>
<div id="holdout" class="section level4">
<h4 class="hasAnchor">
<a href="#holdout" class="anchor"></a>Holdout</h4>
<p>Split data into a training set and a test set. Parameter <code>ratio</code> determines the ratio of observation going into the training set (default: 2/3).</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="no">task</span> <span class="kw">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsk</a></span>(<span class="st">"petrol"</span>)
<span class="no">learner</span> <span class="kw">=</span> <span class="no">LearnerRegrForecastVAR</span>$<span class="fu">new</span>()

<span class="no">rr</span> <span class="kw">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp</a></span>(<span class="st">"forecastHoldout"</span>, <span class="kw">ratio</span> <span class="kw">=</span> <span class="fl">0.8</span>)
<span class="no">rr</span>$<span class="fu">instantiate</span>(<span class="no">task</span>)
<span class="no">resample</span> <span class="kw">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/resample.html">resample</a></span>(<span class="no">task</span>, <span class="no">learner</span>, <span class="no">rr</span>, <span class="kw">store_models</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">resample</span>$<span class="fu">predictions</span>()</pre></div>
</div>
<div id="rolling-window-cv" class="section level4">
<h4 class="hasAnchor">
<a href="#rolling-window-cv" class="anchor"></a>Rolling Window CV</h4>
<p>Splits data using a <code>folds</code>-folds (default: 10 folds) rolling window cross-validation.</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="no">task</span> <span class="kw">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">tsk</a></span>(<span class="st">"petrol"</span>)
<span class="no">learner</span> <span class="kw">=</span> <span class="no">LearnerRegrForecastVAR</span>$<span class="fu">new</span>()

<span class="no">rr</span> <span class="kw">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html">rsmp</a></span>(<span class="st">"RollingWindowCV"</span>, <span class="kw">folds</span> <span class="kw">=</span> <span class="fl">5</span>, <span class="kw">fixed_window</span> <span class="kw">=</span> <span class="no">F</span>)
<span class="no">rr</span>$<span class="fu">instantiate</span>(<span class="no">task</span>)
<span class="no">resample</span> <span class="kw">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/resample.html">resample</a></span>(<span class="no">task</span>, <span class="no">learner</span>, <span class="no">rr</span>, <span class="kw">store_models</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">resample</span>$<span class="fu">predictions</span>()</pre></div>
</div>
</div>
<div id="more-resources" class="section level2">
<h2 class="hasAnchor">
<a href="#more-resources" class="anchor"></a>More resources</h2>
<p>For detailed information on how to get started with <code>mlr3</code> please read the <a href="https://mlr3book.mlr-org.com/">mlr3 book</a> and consult the <a href="https://mlr3forecasting.mlr-org.com/articles/vignettes.html">Vignette</a> for more examples of mlr3forecasting.</p>
</div>
<div id="contributing-to-mlr3forecasting" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing-to-mlr3forecasting" class="anchor"></a>Contributing to mlr3forecasting</h2>
<p>This R package is licensed under the <a href="https://www.gnu.org/licenses/lgpl-3.0.en.html">LGPL-3</a>. If you encounter problems using this software (lack of documentation, misleading or wrong documentation, unexpected behaviour, bugs, â€¦) or just want to suggest features, please open an issue in the <a href="https://github.com/mlr-org/mlr3/issues">issue tracker</a>. Pull requests are welcome and will be included at the discretion of the maintainers.</p>
<p>Please consult the <a href="https://github.com/mlr-org/mlr3/wiki/">wiki</a> for a <a href="https://github.com/mlr-org/mlr3/wiki/Style-Guide">style guide</a>, a <a href="https://github.com/mlr-org/mlr3/wiki/Roxygen-Guide">roxygen guide</a> and a <a href="https://github.com/mlr-org/mlr3/wiki/PR-Guidelines">pull request guide</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/mlr-org/mlr3forecasting/">https://â€‹github.com/â€‹mlr-org/â€‹mlr3forecasting/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mlr-org/mlr3forecasting/issues">https://â€‹github.com/â€‹mlr-org/â€‹mlr3forecasting/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michel Lang <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0001-9754-0393" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Cornelia Gruber <br><small class="roles"> Author </small>  </li>
<li>Johannes Nawrath <br><small class="roles"> Author </small>  </li>
<li>Ava Arshadipour <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Michel Lang, Cornelia Gruber, Johannes Nawrath, Ava Arshadipour.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
